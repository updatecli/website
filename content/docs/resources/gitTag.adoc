---
title: "Git Tag"
description: "Manipulate Git Tag information"
lead: "kind: gitTag"
date: 2021-04-08T15:21:01+02:00
lastmod: 2021-04-08T15:21:01+02:00
draft: false
images: []
menu: 
  docs:
    parent: "resources"
weight: 130 
toc: true
---
// <!-- Required for asciidoctor -->
:toc:
// Set toclevels to be at least your hugo [markup.tableOfContents.endLevel] config key
:toclevels: 4

[cols="1^,1^,1^",options=header]
|===
| source | condition | target
| &#10004; | &#10004; | &#10004;
|===

**source**

The Git Tag "source" retrieves the latest git Tag matching a pattern.

**condition**

The Git Tag "condition" tests if git Tag matching a pattern exist.

**target**

The Git Tag "condition" ensures a git Tag matching a pattern exist otherwise it creates it.

== Parameter

[cols="1,1,1,4",options=header]
|===
| Name | Required | Default |Description
| path | | - | [S,C,T]Define the git directory path
| versionFilter | | | [S,C] Define the tag "version" pattern
| message | | "Generated by updatecli" | [T] Defines the tag message
|===

include::content/docs/resources/_versionFilter.adoc[]

== Example

.updatecli.yaml
```
title: "Test new gitTag resource"
sources:
  git:
    name: Get Latest updatecli test
    kind: gitTag
    scm:
      git:
        url: "git@github.com:updatecli/updatecli.git"
        branch: "main"
  githubRegex:
    name: Get Latest updatecli test
    kind: gitTag
    spec:
      versionFilter:
        kind: semver
        pattern: "~0.1"
    scm:
      github:
        user: "{{ .github.user }}" 
        email: "{{ .github.email }}" 
        owner: "updatecli" 
        repository: "updatecli" 
        token: "{{ requiredEnv .github.token }}" 
        username: "{{ .github.username }}" 
        branch: "main" 
conditions:
  gitRegex:
    sourceID: default
    name: Test Get Latest updatecli test
    kind: gitTag
    spec:
      versionFilter:
        pattern: "v0.1.2"
    scm:
      git:
        url: "git@github.com:updatecli/updatecli.git"
        branch: "main"
  githubRegex:
    sourceID: default
    name: Test Get Latest updatecli test
    kind: gitTag
    spec:
      versionFilter:
        pattern: "v0.1.2"
    scm:
      github:
        user: "{{ .github.user }}" 
        email: "{{ .github.email }}" 
        owner: "updatecli" 
        repository: "updatecli" 
        token: "{{ requiredEnv .github.token }}" 
        username: "{{ .github.username }}" 
        branch: "main" 
targets:
  github:
    sourceID: git
    name: Publish tag with -github
    kind: gitTag
    transformers:
      - addSuffix: "-github"
    scm:
      github:
        user: "{{ .github.user }}" 
        email: "{{ .github.email }}" 
        owner: "olblak" 
        repository: "nocode"
        token: "{{ requiredEnv .github.token }}" 
        username: "{{ .github.username }}" 
        branch: "master" 
  git:
    sourceID: githubRegex
    name: Publish tag with -git
    kind: gitTag
    transformers:
      - addSuffix: "-git"
    scm:
      git:
        url: "git@github.com:olblak/nocode.git"
        branch: "master"
```
